<!DOCTYPE html>
<html>

<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-QPT36ELWNJ"></script>
    <script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments);
        }
        gtag('js', new Date());
        gtag('config', 'G-QPT36ELWNJ');
    </script>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="CSS/static.css">

    <link type="text/css" href="https://unpkg.com/swiper/swiper-bundle.css">
    <link type="text/css" href="https://unpkg.com/swiper/swiper-bundle.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.min.css"
        integrity="sha512-/zs32ZEJh+/EO2N1b0PEdoA10JkdC3zJ8L5FTiQu82LR9S/rOQNfQN7U59U9BC12swNeRAz3HSzIL2vpp4fv3w=="
        crossorigin="anonymous" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.min.js"></script>

    <link rel="apple-touch-icon" sizes="180x180" href="Favicon/favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="Favicon/favicon.ico">
    <link rel="icon" type="image/png" sizes="32x32" href="Logos/Trophy.png">
    <link rel="icon" type="image/png" sizes="16x16" href="Logos/Trophy.png">
    <link rel="manifest" href="/static/favicon/site.b9aa277fcfc3.webmanifest">
    <link rel="mask-icon" href="Favicon/favicon.ico" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="theme-color" content="#ffffff">

    <title>RHFL</title>

</head>



<body>

    <!--<div class="preload-wrapper">
        <div id="preload"></div>
    </div>-->

    <div class="content">

        <div class='nav'>
            <div class="top">
                <a href="index"><img src="Logos/trophy.svg" class='nav-logo' alt="RHFL Main Logo"></a>

                <div id="menu-toggle">
                    <div id="hamburger">
                        <span></span>
                        <span></span>
                        <span></span>
                    </div>
                    <div id="cross">
                        <span></span>
                        <span></span>
                    </div>
                </div>

                <ul>
                    <li><a href="index">Home</a></li>
                    <li><a href="hall-of-champions">Hall of Champions</a></li>
                    <!--<li><a href="drafts">Drafts</a></li>-->
                    <li><a href="teams">Teams</a></li>
                    <li><a href="power-rankings">Power Rankings</a></li>
                    <li><a href="records">Records</a></li>
                </ul>

            </div>
        </div>

        <div class="mobile-nav">
            <a href="index"><img src="Logos/trophy.svg" class='nav-logo' alt="RHFL Main Logo"></a>
            <ul>
                <li><a href="index">Home</a></li>
                <li><a href="hall-of-champions">Hall of Champions</a></li>
                <!--<li><a href="drafts">Drafts</a></li>-->
                <li><a href="teams">Teams</a></li>
                <li><a href="power-rankings">Power Rankings</a></li>
                <li><a href="records">Records</a></li>
            </ul>
        </div>

        <div class="header">
            <a href="https://open.spotify.com/show/4R9BBmHVrT082pS7pJHObS?si=wSw2Ib6xSDy2gumW4Syt7w"
                class="header-post">
                <div class="img-container">
                    <img src="Images/PodcastLogo.png"
                        srcset="Images/PodcastLogo.png 2500w,Images/PodcastLogo.png 1250w,Images/PodcastLogo.png 625w"
                        alt="RHFL Podcast">
                </div>
                <div class="post-detail">
                    <h1 class='header-text' data-content='Welcome Back?'>League Podcast</h1>
                    <small>October 29, 2020</small>
                    <p> Smitty, CB, and Ridge break down the Rock Hill Fantasy League. Come take a listen!</p>
                </div>
            </a>

            <div class="post-container">

                <a href="https://docs.google.com/spreadsheets/d/10vYhURDv_cc1ovJypjiZHTzWHyTvX-1eQdcQy-BvZvM/edit#gid=1147518213"
                    target="_blank" class="post-mini">
                    <img src="Images/wentz.jpg"
                        srcset="Images/wentz.jpg 2500w, Images/wentz.jpg 1250w, Images/wentz.jpg 625w"
                        alt="2020 Draft Results">
                    <div class="post-detail">
                        <h3>Fantasy Spreadsheet</h3>
                        <small>December 5, 2020</small>
                    </div>
                </a>

                <a href="https://docs.google.com/document/d/1IaYQBC6U6EKrnKcJ5wsGB94gmsx9GbxXQFLeDc1Iydk/edit?usp=sharing"
                    target="_blank" class="post-mini">
                    <img src="Images/combine.jpg"
                        srcset="Images/combine.jpg 2500w, Images/combine.jpg 1250w, Images/combine.jpg 625w"
                        alt="League Constitution">
                    <div class="post-detail">
                        <h3>League Constitution</h3>
                        <small>July 26, 2021</small>
                    </div>
                </a>

            </div>

            </br>

            <!-- Display the countdown timer in an element -->
            <div class="timer">
                <div class="timerBody"></div>
                <p id="dem">Countdown to the draft!</p>
                <p id="demo"></p>
            </div>
        </div>
        <script>
            // Set the date we're counting down to
            var countDownDate = new Date("Aug 23, 2025 16:30:00").getTime();
            // Update the count down every 1 second
            var x = setInterval(function () {
                // Get today's date and time
                var now = new Date().getTime();
                // Find the distance between now and the count down date
                var distance = countDownDate - now;
                // Time calculations for days, hours, minutes and seconds
                var days = Math.floor(distance / (1000 * 60 * 60 * 24));
                var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                var seconds = Math.floor((distance % (1000 * 60)) / 1000);
                // Display the result in the element with id="demo"
                document.getElementById("demo").innerHTML = days + "d " + hours + "h " +
                    minutes + "m " + seconds + "s ";
                // If the count down is finished, write some text 
                if (distance < 0) {
                    clearInterval(x);
                    document.getElementById("demo").innerHTML = "Goodluck this season!";
                }
            }, 1000);
        </script>

    </div>

    <section>
        <div class="matchup-wrapper">
            <h2 class="matchup-heading">Weekly Matchups</h2>
            <div id="matchups">Loading matchups...</div>
        </div>

        <div class="left-side">
            <h2>Draft Order</h2>
            <ol id="draftOrder">
                <li class="draft-list">Loading...</li>
            </ol>
        </div>

        <div class="right-side">
            <!-- Standings will be injected here -->
        </div>
    </section>

    <footer class="mt-3"></footer>
    </div>
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script>
        const leagueId = 467985;
        const seasonId = 2025;
        const logoPath = 'Logos/';

        // Match ESPN teamId to local logo filename
        const logoMap = {
            1: 'ridge.png',
            19: 'sam.png',
            15: 'chris.png',
            4: 'josiah.png',
            3: 'kevin.png',
            12: 'garrett.png',
            20: 'joey.png',
            16: 'krista.png',
            10: 'chandler.png',
            13: 'spencer.png',
            5: 'scott.png',
            18: 'gabi.png'
        };

        const url = `https://lm-api-reads.fantasy.espn.com/apis/v3/games/ffl/seasons/${seasonId}/segments/0/leagues/${leagueId}?view=mDraftDetail&view=mTeam`;

        async function loadDraftOrder() {
            try {
                const response = await fetch(url);
                const data = await response.json();

                const draftPicks = data.draftDetail.picks
                    .filter(p => p.roundId === 1)
                    .sort((a, b) => a.roundPickNumber - b.roundPickNumber);

                const teams = data.teams;

                const teamMap = {};
                teams.forEach(team => {
                    teamMap[team.id] = {
                        name: team.name || `Team ${team.id}`,
                        logo: `${logoPath}${logoMap[team.id] || 'default.png'}`
                    };
                });

                const ol = document.getElementById('draftOrder');
                ol.innerHTML = '';

                draftPicks.forEach(pick => {
                    const team = teamMap[pick.teamId] || { name: 'TBD', logo: `${logoPath}default.png` };
                    const li = document.createElement('li');
                    li.innerHTML = `
            <img class="logo" src="${team.logo}" alt="${team.name} logo" />
            <div class="team-info">
              <span class="pick-number">Pick ${pick.roundPickNumber}</span>
              <span class="team-name">${team.name}</span>
            </div>
          `;
                    ol.appendChild(li);
                });

            } catch (err) {
                console.error('Error:', err);
                document.getElementById('draftOrder').innerHTML = '<li>Failed to load draft order.</li>';
            }
        }

        loadDraftOrder();
    </script>
    <script src="https://code.jquery.com/jquery-3.5.1.js"
        integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" crossorigin="anonymous"></script>
    <script src="https://unpkg.com/swiper/swiper-bundle.js"></script>
    <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bodymovin/5.7.2/lottie.js" type="text/javascript"></script>
    <script src="JS/static.js"></script>
    <script src="JS/standings.js"></script>
    <script src="JS/matchups.js"></script>
</body>

</html>